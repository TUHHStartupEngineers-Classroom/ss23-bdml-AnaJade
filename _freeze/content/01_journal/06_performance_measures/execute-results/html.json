{
  "hash": "241f32db52cad6c69ab0f03b568afe49",
  "result": {
    "markdown": "---\ntitle: \"Data Visualization\"\nauthor: \"Ana Jade\"\n---\n\n\nThe goal of this fourth challenge is to analize and visualize COVID-19 data. This page will explain how this was done.\n\n# Load libraries\n\n::: {.cell hash='06_performance_measures_cache/html/unnamed-chunk-1_18aa5e02384b096dc092cb62824035e2'}\n\n```{.r .cell-code}\n# Tidyverse\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n#> ✔ dplyr     1.1.1     ✔ readr     2.1.4\n#> ✔ forcats   1.0.0     ✔ stringr   1.5.0\n#> ✔ ggplot2   3.4.2     ✔ tibble    3.2.1\n#> ✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n#> ✔ purrr     1.0.1     \n#> ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n#> ✖ dplyr::filter() masks stats::filter()\n#> ✖ dplyr::lag()    masks stats::lag()\n#> ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n:::\n\n\n# Load data\n\n::: {.cell hash='06_performance_measures_cache/html/unnamed-chunk-2_197f2a3ee7654b4ff18db41dda2fee55'}\n\n```{.r .cell-code}\n# Load data\ncovid_data_tbl <- read_csv(\"https://covid.ourworldindata.org/data/owid-covid-data.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Rows: 313312 Columns: 67\n#> ── Column specification ────────────────────────────────────────────────────────\n#> Delimiter: \",\"\n#> chr   (4): iso_code, continent, location, tests_units\n#> dbl  (62): total_cases, new_cases, new_cases_smoothed, total_deaths, new_dea...\n#> date  (1): date\n#> \n#> ℹ Use `spec()` to retrieve the full column specification for this data.\n#> ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\n\n# Challenge 1\nThe goal of this first challenge is to plot the cumulative COVID-19 vases for a few countries.\n\nFirst you start by wrangling the data:\n\n::: {.cell hash='06_performance_measures_cache/html/unnamed-chunk-3_a0492304c81861011e567ede9eef3eab'}\n\n```{.r .cell-code}\ntotal_cases_over_time <- covid_data_tbl %>%\n  # Select appropriate columns\n  select(iso_code,location, date, total_cases) %>%\n  # Filter based on country\n  filter(location %in% c(\"Germany\", \"United Kingdom\", \"France\", \"Spain\", \"United States\")) %>%\n  # Remove blank values\n  filter(!is.na(total_cases))\n```\n:::\n\nThen you plot it:\n\n::: {.cell hash='06_performance_measures_cache/html/unnamed-chunk-4_f6e1e2889fd016eeee4cc8344731479b'}\n\n```{.r .cell-code}\ntotal_cases_over_time %>%\n  # Canvas\n  ggplot(aes(x = date, y = total_cases, color = location)) +\n  # Geometries \n  geom_line(size = 1) +\n  # Formatting\n  expand_limits(y = 0) +\n  scale_x_date(date_breaks = '1 month', date_labels = \"%B-%Y\") + \n  scale_y_continuous(labels=function(x) sprintf(\"%.0fM\", x/1e6)) + \n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  # Change colour\n  scale_color_brewer(palette = \"Set1\") + \n  # Set legend location\n  theme(legend.position = \"bottom\") +\n  # Labels\n  labs(\n    title = \"COVID-19 confirmed cases worldwide\",\n    subtitle = \"As of 19/04/2022\",\n    x = \"Date\",\n    y = \"Total cases\",\n    color = \"Countries\" # Legend text\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\n#> ℹ Please use `linewidth` instead.\n```\n:::\n\n::: {.cell-output-display}\n![](06_performance_measures_files/figure-html/unnamed-chunk-4-1.png){width=960}\n:::\n:::\n\n\n# Challenge 2\nThe goal of this challenge is to view the mortality rate of every country due to COVID-19.\n\nFirst you start by wrangling the data:\n\n::: {.cell hash='06_performance_measures_cache/html/unnamed-chunk-5_60c76fa2a803470e236a4b18783c8c4a'}\n\n```{.r .cell-code}\n# 2.1 Data wrangling ----\n# Example: https://www.datanovia.com/en/blog/how-to-create-a-map-using-ggplot2/\nmortality_tbl <- covid_data_tbl %>%\n  # Keep only CAN and DE + others\n  # filter(location == c(\"Canada\", \"Germany\", \"United Kingdom\", \"United States\", \"Democratic Republic of Congo\")) %>%\n  # Select relevant columns\n  select(location, new_deaths_per_million) %>%\n  # Replace all NAs by zeros\n  replace_na(list(new_deaths_per_million = 0)) %>%\n  # Get sums\n  group_by(location) %>%\n  summarise(total_deaths_per_million = sum(new_deaths_per_million)) %>%\n  # Add death percentage\n  mutate(total_deaths_perc = total_deaths_per_million/1e6) %>%\n  # Change location names to match the world map\n  mutate(location = case_when(\n    location == \"United Kingdom\" ~ \"UK\",\n    location == \"United States\" ~ \"USA\",\n    location == \"Democratic Republic of Congo\" ~ \"Democratic Republic of the Congo\",\n    TRUE ~ location)) %>%\n  distinct()\n\nmortality_tbl\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"location\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"total_deaths_per_million\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"total_deaths_perc\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Afghanistan\",\"2\":\"192.382\",\"3\":\"0.000192382\"},{\"1\":\"Africa\",\"2\":\"181.508\",\"3\":\"0.000181508\"},{\"1\":\"Albania\",\"2\":\"1267.976\",\"3\":\"0.001267976\"},{\"1\":\"Algeria\",\"2\":\"153.243\",\"3\":\"0.000153243\"},{\"1\":\"American Samoa\",\"2\":\"767.584\",\"3\":\"0.000767584\"},{\"1\":\"Andorra\",\"2\":\"1991.442\",\"3\":\"0.001991442\"},{\"1\":\"Angola\",\"2\":\"54.261\",\"3\":\"0.000054261\"},{\"1\":\"Anguilla\",\"2\":\"755.808\",\"3\":\"0.000755808\"},{\"1\":\"Antigua and Barbuda\",\"2\":\"1556.952\",\"3\":\"0.001556952\"},{\"1\":\"Argentina\",\"2\":\"2866.896\",\"3\":\"0.002866896\"},{\"1\":\"Armenia\",\"2\":\"3146.985\",\"3\":\"0.003146985\"},{\"1\":\"Aruba\",\"2\":\"2705.253\",\"3\":\"0.002705253\"},{\"1\":\"Asia\",\"2\":\"345.778\",\"3\":\"0.000345778\"},{\"1\":\"Australia\",\"2\":\"791.529\",\"3\":\"0.000791529\"},{\"1\":\"Austria\",\"2\":\"2515.558\",\"3\":\"0.002515558\"},{\"1\":\"Azerbaijan\",\"2\":\"991.773\",\"3\":\"0.000991773\"},{\"1\":\"Bahamas\",\"2\":\"2082.951\",\"3\":\"0.002082951\"},{\"1\":\"Bahrain\",\"2\":\"1043.236\",\"3\":\"0.001043236\"},{\"1\":\"Bangladesh\",\"2\":\"172.086\",\"3\":\"0.000172086\"},{\"1\":\"Barbados\",\"2\":\"2105.538\",\"3\":\"0.002105538\"},{\"1\":\"Belarus\",\"2\":\"746.566\",\"3\":\"0.000746566\"},{\"1\":\"Belgium\",\"2\":\"2943.589\",\"3\":\"0.002943589\"},{\"1\":\"Belize\",\"2\":\"1700.010\",\"3\":\"0.001700010\"},{\"1\":\"Benin\",\"2\":\"12.214\",\"3\":\"0.000012214\"},{\"1\":\"Bermuda\",\"2\":\"2569.833\",\"3\":\"0.002569833\"},{\"1\":\"Bhutan\",\"2\":\"26.838\",\"3\":\"0.000026838\"},{\"1\":\"Bolivia\",\"2\":\"1831.051\",\"3\":\"0.001831051\"},{\"1\":\"Bonaire Sint Eustatius and Saba\",\"2\":\"1589.538\",\"3\":\"0.001589538\"},{\"1\":\"Bosnia and Herzegovina\",\"2\":\"5055.176\",\"3\":\"0.005055176\"},{\"1\":\"Botswana\",\"2\":\"1063.366\",\"3\":\"0.001063366\"},{\"1\":\"Brazil\",\"2\":\"3262.320\",\"3\":\"0.003262320\"},{\"1\":\"British Virgin Islands\",\"2\":\"2042.642\",\"3\":\"0.002042642\"},{\"1\":\"Brunei\",\"2\":\"358.567\",\"3\":\"0.000358567\"},{\"1\":\"Bulgaria\",\"2\":\"5657.918\",\"3\":\"0.005657918\"},{\"1\":\"Burkina Faso\",\"2\":\"17.450\",\"3\":\"0.000017450\"},{\"1\":\"Burundi\",\"2\":\"1.166\",\"3\":\"0.000001166\"},{\"1\":\"Cambodia\",\"2\":\"182.270\",\"3\":\"0.000182270\"},{\"1\":\"Cameroon\",\"2\":\"70.648\",\"3\":\"0.000070648\"},{\"1\":\"Canada\",\"2\":\"1368.643\",\"3\":\"0.001368643\"},{\"1\":\"Cape Verde\",\"2\":\"699.687\",\"3\":\"0.000699687\"},{\"1\":\"Cayman Islands\",\"2\":\"538.395\",\"3\":\"0.000538395\"},{\"1\":\"Central African Republic\",\"2\":\"20.241\",\"3\":\"0.000020241\"},{\"1\":\"Chad\",\"2\":\"10.912\",\"3\":\"0.000010912\"},{\"1\":\"Chile\",\"2\":\"3316.133\",\"3\":\"0.003316133\"},{\"1\":\"China\",\"2\":\"84.977\",\"3\":\"0.000084977\"},{\"1\":\"Colombia\",\"2\":\"2751.673\",\"3\":\"0.002751673\"},{\"1\":\"Comoros\",\"2\":\"192.395\",\"3\":\"0.000192395\"},{\"1\":\"Congo\",\"2\":\"65.121\",\"3\":\"0.000065121\"},{\"1\":\"Cook Islands\",\"2\":\"117.426\",\"3\":\"0.000117426\"},{\"1\":\"Costa Rica\",\"2\":\"1807.698\",\"3\":\"0.001807698\"},{\"1\":\"Cote d'Ivoire\",\"2\":\"29.705\",\"3\":\"0.000029705\"},{\"1\":\"Croatia\",\"2\":\"4527.102\",\"3\":\"0.004527102\"},{\"1\":\"Cuba\",\"2\":\"760.768\",\"3\":\"0.000760768\"},{\"1\":\"Curacao\",\"2\":\"1579.744\",\"3\":\"0.001579744\"},{\"1\":\"Cyprus\",\"2\":\"1522.252\",\"3\":\"0.001522252\"},{\"1\":\"Czechia\",\"2\":\"4078.149\",\"3\":\"0.004078149\"},{\"1\":\"Democratic Republic of the Congo\",\"2\":\"14.775\",\"3\":\"0.000014775\"},{\"1\":\"Denmark\",\"2\":\"1474.410\",\"3\":\"0.001474410\"},{\"1\":\"Djibouti\",\"2\":\"168.615\",\"3\":\"0.000168615\"},{\"1\":\"Dominica\",\"2\":\"1017.062\",\"3\":\"0.001017062\"},{\"1\":\"Dominican Republic\",\"2\":\"390.372\",\"3\":\"0.000390372\"},{\"1\":\"Ecuador\",\"2\":\"2000.983\",\"3\":\"0.002000983\"},{\"1\":\"Egypt\",\"2\":\"223.643\",\"3\":\"0.000223643\"},{\"1\":\"El Salvador\",\"2\":\"667.568\",\"3\":\"0.000667568\"},{\"1\":\"England\",\"2\":\"0.000\",\"3\":\"0.000000000\"},{\"1\":\"Equatorial Guinea\",\"2\":\"109.254\",\"3\":\"0.000109254\"},{\"1\":\"Eritrea\",\"2\":\"27.934\",\"3\":\"0.000027934\"},{\"1\":\"Estonia\",\"2\":\"2263.057\",\"3\":\"0.002263057\"},{\"1\":\"Eswatini\",\"2\":\"1185.828\",\"3\":\"0.001185828\"},{\"1\":\"Ethiopia\",\"2\":\"61.368\",\"3\":\"0.000061368\"},{\"1\":\"Europe\",\"2\":\"2770.570\",\"3\":\"0.002770570\"},{\"1\":\"European Union\",\"2\":\"2738.719\",\"3\":\"0.002738719\"},{\"1\":\"Faeroe Islands\",\"2\":\"527.132\",\"3\":\"0.000527132\"},{\"1\":\"Falkland Islands\",\"2\":\"0.000\",\"3\":\"0.000000000\"},{\"1\":\"Fiji\",\"2\":\"949.724\",\"3\":\"0.000949724\"},{\"1\":\"Finland\",\"2\":\"1730.536\",\"3\":\"0.001730536\"},{\"1\":\"France\",\"2\":\"2529.530\",\"3\":\"0.002529530\"},{\"1\":\"French Guiana\",\"2\":\"1355.991\",\"3\":\"0.001355991\"},{\"1\":\"French Polynesia\",\"2\":\"2118.911\",\"3\":\"0.002118911\"},{\"1\":\"Gabon\",\"2\":\"128.525\",\"3\":\"0.000128525\"},{\"1\":\"Gambia\",\"2\":\"137.493\",\"3\":\"0.000137493\"},{\"1\":\"Georgia\",\"2\":\"4558.813\",\"3\":\"0.004558813\"},{\"1\":\"Germany\",\"2\":\"2087.532\",\"3\":\"0.002087532\"},{\"1\":\"Ghana\",\"2\":\"43.685\",\"3\":\"0.000043685\"},{\"1\":\"Gibraltar\",\"2\":\"3458.104\",\"3\":\"0.003458104\"},{\"1\":\"Greece\",\"2\":\"3554.840\",\"3\":\"0.003554840\"},{\"1\":\"Greenland\",\"2\":\"371.721\",\"3\":\"0.000371721\"},{\"1\":\"Grenada\",\"2\":\"1897.039\",\"3\":\"0.001897039\"},{\"1\":\"Guadeloupe\",\"2\":\"2579.850\",\"3\":\"0.002579850\"},{\"1\":\"Guam\",\"2\":\"2404.184\",\"3\":\"0.002404184\"},{\"1\":\"Guatemala\",\"2\":\"1132.028\",\"3\":\"0.001132028\"},{\"1\":\"Guernsey\",\"2\":\"1057.982\",\"3\":\"0.001057982\"},{\"1\":\"Guinea\",\"2\":\"33.724\",\"3\":\"0.000033724\"},{\"1\":\"Guinea-Bissau\",\"2\":\"84.075\",\"3\":\"0.000084075\"},{\"1\":\"Guyana\",\"2\":\"1605.118\",\"3\":\"0.001605118\"},{\"1\":\"Haiti\",\"2\":\"74.238\",\"3\":\"0.000074238\"},{\"1\":\"High income\",\"2\":\"2309.345\",\"3\":\"0.002309345\"},{\"1\":\"Honduras\",\"2\":\"1065.693\",\"3\":\"0.001065693\"},{\"1\":\"Hong Kong\",\"2\":\"0.000\",\"3\":\"0.000000000\"},{\"1\":\"Hungary\",\"2\":\"4894.107\",\"3\":\"0.004894107\"},{\"1\":\"Iceland\",\"2\":\"697.247\",\"3\":\"0.000697247\"},{\"1\":\"India\",\"2\":\"375.281\",\"3\":\"0.000375281\"},{\"1\":\"Indonesia\",\"2\":\"586.936\",\"3\":\"0.000586936\"},{\"1\":\"Iran\",\"2\":\"1651.369\",\"3\":\"0.001651369\"},{\"1\":\"Iraq\",\"2\":\"570.226\",\"3\":\"0.000570226\"},{\"1\":\"Ireland\",\"2\":\"1778.694\",\"3\":\"0.001778694\"},{\"1\":\"Isle of Man\",\"2\":\"1372.242\",\"3\":\"0.001372242\"},{\"1\":\"Israel\",\"2\":\"1325.405\",\"3\":\"0.001325405\"},{\"1\":\"Italy\",\"2\":\"3222.412\",\"3\":\"0.003222412\"},{\"1\":\"Jamaica\",\"2\":\"1254.152\",\"3\":\"0.001254152\"},{\"1\":\"Japan\",\"2\":\"602.695\",\"3\":\"0.000602695\"},{\"1\":\"Jersey\",\"2\":\"1453.146\",\"3\":\"0.001453146\"},{\"1\":\"Jordan\",\"2\":\"1251.293\",\"3\":\"0.001251293\"},{\"1\":\"Kazakhstan\",\"2\":\"983.230\",\"3\":\"0.000983230\"},{\"1\":\"Kenya\",\"2\":\"105.390\",\"3\":\"0.000105390\"},{\"1\":\"Kiribati\",\"2\":\"182.877\",\"3\":\"0.000182877\"},{\"1\":\"Kosovo\",\"2\":\"1798.964\",\"3\":\"0.001798964\"},{\"1\":\"Kuwait\",\"2\":\"602.064\",\"3\":\"0.000602064\"},{\"1\":\"Kyrgyzstan\",\"2\":\"451.114\",\"3\":\"0.000451114\"},{\"1\":\"Laos\",\"2\":\"89.125\",\"3\":\"0.000089125\"},{\"1\":\"Latvia\",\"2\":\"3440.900\",\"3\":\"0.003440900\"},{\"1\":\"Lebanon\",\"2\":\"1987.998\",\"3\":\"0.001987998\"},{\"1\":\"Lesotho\",\"2\":\"306.195\",\"3\":\"0.000306195\"},{\"1\":\"Liberia\",\"2\":\"55.655\",\"3\":\"0.000055655\"},{\"1\":\"Libya\",\"2\":\"944.923\",\"3\":\"0.000944923\"},{\"1\":\"Liechtenstein\",\"2\":\"2210.657\",\"3\":\"0.002210657\"},{\"1\":\"Lithuania\",\"2\":\"3519.629\",\"3\":\"0.003519629\"},{\"1\":\"Low income\",\"2\":\"64.947\",\"3\":\"0.000064947\"},{\"1\":\"Lower middle income\",\"2\":\"391.304\",\"3\":\"0.000391304\"},{\"1\":\"Luxembourg\",\"2\":\"1902.304\",\"3\":\"0.001902304\"},{\"1\":\"Macao\",\"2\":\"0.000\",\"3\":\"0.000000000\"},{\"1\":\"Madagascar\",\"2\":\"48.126\",\"3\":\"0.000048126\"},{\"1\":\"Malawi\",\"2\":\"131.614\",\"3\":\"0.000131614\"},{\"1\":\"Malaysia\",\"2\":\"1092.229\",\"3\":\"0.001092229\"},{\"1\":\"Maldives\",\"2\":\"601.350\",\"3\":\"0.000601350\"},{\"1\":\"Mali\",\"2\":\"32.876\",\"3\":\"0.000032876\"},{\"1\":\"Malta\",\"2\":\"1565.674\",\"3\":\"0.001565674\"},{\"1\":\"Marshall Islands\",\"2\":\"408.727\",\"3\":\"0.000408727\"},{\"1\":\"Martinique\",\"2\":\"2998.542\",\"3\":\"0.002998542\"},{\"1\":\"Mauritania\",\"2\":\"210.475\",\"3\":\"0.000210475\"},{\"1\":\"Mauritius\",\"2\":\"808.048\",\"3\":\"0.000808048\"},{\"1\":\"Mayotte\",\"2\":\"576.465\",\"3\":\"0.000576465\"},{\"1\":\"Mexico\",\"2\":\"2620.175\",\"3\":\"0.002620175\"},{\"1\":\"Micronesia (country)\",\"2\":\"569.287\",\"3\":\"0.000569287\"},{\"1\":\"Moldova\",\"2\":\"3702.436\",\"3\":\"0.003702436\"},{\"1\":\"Monaco\",\"2\":\"1836.068\",\"3\":\"0.001836068\"},{\"1\":\"Mongolia\",\"2\":\"628.560\",\"3\":\"0.000628560\"},{\"1\":\"Montenegro\",\"2\":\"4508.197\",\"3\":\"0.004508197\"},{\"1\":\"Montserrat\",\"2\":\"1812.824\",\"3\":\"0.001812824\"},{\"1\":\"Morocco\",\"2\":\"435.072\",\"3\":\"0.000435072\"},{\"1\":\"Mozambique\",\"2\":\"68.003\",\"3\":\"0.000068003\"},{\"1\":\"Myanmar\",\"2\":\"359.752\",\"3\":\"0.000359752\"},{\"1\":\"Namibia\",\"2\":\"1593.731\",\"3\":\"0.001593731\"},{\"1\":\"Nauru\",\"2\":\"78.796\",\"3\":\"0.000078796\"},{\"1\":\"Nepal\",\"2\":\"393.843\",\"3\":\"0.000393843\"},{\"1\":\"Netherlands\",\"2\":\"1309.099\",\"3\":\"0.001309099\"},{\"1\":\"New Caledonia\",\"2\":\"1082.922\",\"3\":\"0.001082922\"},{\"1\":\"New Zealand\",\"2\":\"557.940\",\"3\":\"0.000557940\"},{\"1\":\"Nicaragua\",\"2\":\"35.268\",\"3\":\"0.000035268\"},{\"1\":\"Niger\",\"2\":\"11.994\",\"3\":\"0.000011994\"},{\"1\":\"Nigeria\",\"2\":\"14.470\",\"3\":\"0.000014470\"},{\"1\":\"Niue\",\"2\":\"0.000\",\"3\":\"0.000000000\"},{\"1\":\"North America\",\"2\":\"2672.342\",\"3\":\"0.002672342\"},{\"1\":\"North Korea\",\"2\":\"0.000\",\"3\":\"0.000000000\"},{\"1\":\"North Macedonia\",\"2\":\"4622.206\",\"3\":\"0.004622206\"},{\"1\":\"Northern Cyprus\",\"2\":\"0.000\",\"3\":\"0.000000000\"},{\"1\":\"Northern Ireland\",\"2\":\"0.000\",\"3\":\"0.000000000\"},{\"1\":\"Northern Mariana Islands\",\"2\":\"827.052\",\"3\":\"0.000827052\"},{\"1\":\"Norway\",\"2\":\"1011.145\",\"3\":\"0.001011145\"},{\"1\":\"Oceania\",\"2\":\"598.609\",\"3\":\"0.000598609\"},{\"1\":\"Oman\",\"2\":\"1011.373\",\"3\":\"0.001011373\"},{\"1\":\"Pakistan\",\"2\":\"129.952\",\"3\":\"0.000129952\"},{\"1\":\"Palau\",\"2\":\"497.678\",\"3\":\"0.000497678\"},{\"1\":\"Palestine\",\"2\":\"1087.171\",\"3\":\"0.001087171\"},{\"1\":\"Panama\",\"2\":\"1956.142\",\"3\":\"0.001956142\"},{\"1\":\"Papua New Guinea\",\"2\":\"66.960\",\"3\":\"0.000066960\"},{\"1\":\"Paraguay\",\"2\":\"2931.809\",\"3\":\"0.002931809\"},{\"1\":\"Peru\",\"2\":\"6477.644\",\"3\":\"0.006477644\"},{\"1\":\"Philippines\",\"2\":\"575.169\",\"3\":\"0.000575169\"},{\"1\":\"Pitcairn\",\"2\":\"0.000\",\"3\":\"0.000000000\"},{\"1\":\"Poland\",\"2\":\"3000.737\",\"3\":\"0.003000737\"},{\"1\":\"Portugal\",\"2\":\"2599.686\",\"3\":\"0.002599686\"},{\"1\":\"Puerto Rico\",\"2\":\"1823.169\",\"3\":\"0.001823169\"},{\"1\":\"Qatar\",\"2\":\"255.990\",\"3\":\"0.000255990\"},{\"1\":\"Reunion\",\"2\":\"949.640\",\"3\":\"0.000949640\"},{\"1\":\"Romania\",\"2\":\"3467.691\",\"3\":\"0.003467691\"},{\"1\":\"Russia\",\"2\":\"2756.607\",\"3\":\"0.002756607\"},{\"1\":\"Rwanda\",\"2\":\"106.596\",\"3\":\"0.000106596\"},{\"1\":\"Saint Barthelemy\",\"2\":\"454.794\",\"3\":\"0.000454794\"},{\"1\":\"Saint Helena\",\"2\":\"0.000\",\"3\":\"0.000000000\"},{\"1\":\"Saint Kitts and Nevis\",\"2\":\"964.749\",\"3\":\"0.000964749\"},{\"1\":\"Saint Lucia\",\"2\":\"2273.884\",\"3\":\"0.002273884\"},{\"1\":\"Saint Martin (French part)\",\"2\":\"1445.818\",\"3\":\"0.001445818\"},{\"1\":\"Saint Pierre and Miquelon\",\"2\":\"339.848\",\"3\":\"0.000339848\"},{\"1\":\"Saint Vincent and the Grenadines\",\"2\":\"1192.765\",\"3\":\"0.001192765\"},{\"1\":\"Samoa\",\"2\":\"139.398\",\"3\":\"0.000139398\"},{\"1\":\"San Marino\",\"2\":\"3710.275\",\"3\":\"0.003710275\"},{\"1\":\"Sao Tome and Principe\",\"2\":\"351.830\",\"3\":\"0.000351830\"},{\"1\":\"Saudi Arabia\",\"2\":\"264.803\",\"3\":\"0.000264803\"},{\"1\":\"Scotland\",\"2\":\"0.000\",\"3\":\"0.000000000\"},{\"1\":\"Senegal\",\"2\":\"113.790\",\"3\":\"0.000113790\"},{\"1\":\"Serbia\",\"2\":\"2626.440\",\"3\":\"0.002626440\"},{\"1\":\"Seychelles\",\"2\":\"1605.448\",\"3\":\"0.001605448\"},{\"1\":\"Sierra Leone\",\"2\":\"14.625\",\"3\":\"0.000014625\"},{\"1\":\"Singapore\",\"2\":\"310.581\",\"3\":\"0.000310581\"},{\"1\":\"Sint Maarten (Dutch part)\",\"2\":\"2081.851\",\"3\":\"0.002081851\"},{\"1\":\"Slovakia\",\"2\":\"3750.713\",\"3\":\"0.003750713\"},{\"1\":\"Slovenia\",\"2\":\"4417.303\",\"3\":\"0.004417303\"},{\"1\":\"Solomon Islands\",\"2\":\"211.245\",\"3\":\"0.000211245\"},{\"1\":\"Somalia\",\"2\":\"77.345\",\"3\":\"0.000077345\"},{\"1\":\"South Africa\",\"2\":\"1712.940\",\"3\":\"0.001712940\"},{\"1\":\"South America\",\"2\":\"3104.476\",\"3\":\"0.003104476\"},{\"1\":\"South Korea\",\"2\":\"669.537\",\"3\":\"0.000669537\"},{\"1\":\"South Sudan\",\"2\":\"12.660\",\"3\":\"0.000012660\"},{\"1\":\"Spain\",\"2\":\"2548.716\",\"3\":\"0.002548716\"},{\"1\":\"Sri Lanka\",\"2\":\"772.923\",\"3\":\"0.000772923\"},{\"1\":\"Sudan\",\"2\":\"107.636\",\"3\":\"0.000107636\"},{\"1\":\"Suriname\",\"2\":\"2273.290\",\"3\":\"0.002273290\"},{\"1\":\"Sweden\",\"2\":\"2301.030\",\"3\":\"0.002301030\"},{\"1\":\"Switzerland\",\"2\":\"1603.078\",\"3\":\"0.001603078\"},{\"1\":\"Syria\",\"2\":\"142.990\",\"3\":\"0.000142990\"},{\"1\":\"Taiwan\",\"2\":\"0.000\",\"3\":\"0.000000000\"},{\"1\":\"Tajikistan\",\"2\":\"12.528\",\"3\":\"0.000012528\"},{\"1\":\"Tanzania\",\"2\":\"12.922\",\"3\":\"0.000012922\"},{\"1\":\"Thailand\",\"2\":\"475.781\",\"3\":\"0.000475781\"},{\"1\":\"Timor\",\"2\":\"102.912\",\"3\":\"0.000102912\"},{\"1\":\"Togo\",\"2\":\"32.770\",\"3\":\"0.000032770\"},{\"1\":\"Tokelau\",\"2\":\"0.000\",\"3\":\"0.000000000\"},{\"1\":\"Tonga\",\"2\":\"112.289\",\"3\":\"0.000112289\"},{\"1\":\"Trinidad and Tobago\",\"2\":\"2867.287\",\"3\":\"0.002867287\"},{\"1\":\"Tunisia\",\"2\":\"2380.397\",\"3\":\"0.002380397\"},{\"1\":\"Turkey\",\"2\":\"1188.403\",\"3\":\"0.001188403\"},{\"1\":\"Turkmenistan\",\"2\":\"0.000\",\"3\":\"0.000000000\"},{\"1\":\"Turks and Caicos Islands\",\"2\":\"831.026\",\"3\":\"0.000831026\"},{\"1\":\"Tuvalu\",\"2\":\"0.000\",\"3\":\"0.000000000\"},{\"1\":\"Uganda\",\"2\":\"76.807\",\"3\":\"0.000076807\"},{\"1\":\"Ukraine\",\"2\":\"2828.978\",\"3\":\"0.002828978\"},{\"1\":\"United Arab Emirates\",\"2\":\"248.914\",\"3\":\"0.000248914\"},{\"1\":\"UK\",\"2\":\"3345.511\",\"3\":\"0.003345511\"},{\"1\":\"USA\",\"2\":\"3339.125\",\"3\":\"0.003339125\"},{\"1\":\"United States Virgin Islands\",\"2\":\"1316.831\",\"3\":\"0.001316831\"},{\"1\":\"Upper middle income\",\"2\":\"1052.941\",\"3\":\"0.001052941\"},{\"1\":\"Uruguay\",\"2\":\"2227.948\",\"3\":\"0.002227948\"},{\"1\":\"Uzbekistan\",\"2\":\"47.348\",\"3\":\"0.000047348\"},{\"1\":\"Vanuatu\",\"2\":\"42.844\",\"3\":\"0.000042844\"},{\"1\":\"Vatican\",\"2\":\"0.000\",\"3\":\"0.000000000\"},{\"1\":\"Venezuela\",\"2\":\"206.888\",\"3\":\"0.000206888\"},{\"1\":\"Vietnam\",\"2\":\"440.339\",\"3\":\"0.000440339\"},{\"1\":\"Wales\",\"2\":\"0.000\",\"3\":\"0.000000000\"},{\"1\":\"Wallis and Futuna\",\"2\":\"603.656\",\"3\":\"0.000603656\"},{\"1\":\"Western Sahara\",\"2\":\"0.000\",\"3\":\"0.000000000\"},{\"1\":\"World\",\"2\":\"870.517\",\"3\":\"0.000870517\"},{\"1\":\"Yemen\",\"2\":\"64.081\",\"3\":\"0.000064081\"},{\"1\":\"Zambia\",\"2\":\"202.768\",\"3\":\"0.000202768\"},{\"1\":\"Zimbabwe\",\"2\":\"348.753\",\"3\":\"0.000348753\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nThe title of the \"location\" column has to be changed to \"region\" to match the world map:\n\n::: {.cell hash='06_performance_measures_cache/html/unnamed-chunk-6_1b51d6782f34867ae4ab2756bed889e6'}\n\n```{.r .cell-code}\n# Change location column name to match world map\ncolnames(mortality_tbl)[colnames(mortality_tbl) == \"location\"] = \"region\"\n```\n:::\n\n\nNext, you plot the results:\n\n::: {.cell hash='06_performance_measures_cache/html/unnamed-chunk-7_3b1c582dce8926da5c419c7db12990e5'}\n\n```{.r .cell-code}\n# Change location column name to match world map\ncolnames(mortality_tbl)[colnames(mortality_tbl) == \"location\"] = \"region\"\n\n# 2.2 Plot ----\n# Get world map\nworld <- map_data(\"world\")\n# Join map and data\ndeaths_map <- left_join(mortality_tbl, world, by=\"region\")\n# Plot results\nggplot(deaths_map, aes(long, lat, group=group)) +\n  geom_polygon(aes(fill = total_deaths_perc), color = \"white\")+\n  # Format legend\n  scale_fill_continuous(name=\"Mortality rate\", labels=scales::percent) +\n  # Labels\n  labs(\n    title = \"Confirmed COVID-19 deaths relative to the size of the population\",\n    subtitle = \"Around 6.2 Million confirmed COVID-19 deaths worldwide\",\n    x = \"\",\n    y = \"\",\n    color = \"Mortality rate\" # Legend text\n  )\n```\n\n::: {.cell-output-display}\n![](06_performance_measures_files/figure-html/unnamed-chunk-7-1.png){width=960}\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}